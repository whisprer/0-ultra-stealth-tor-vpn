cargo :     Checking torvpn_win v0.1.0 (D:\code\0-ultra-stealth-tor-vpn\src\tor\win\torvpn_win_control_plus_statusplan)
At line:1 char:1
+ cargo check 2>&1 | Out-File -Encoding utf8 errors.txt
+ ~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (    Checking to...lus_statusplan):String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
error[E0433]: failed to resolve: use of unresolved module or unlinked crate `pqcrypto_traits`
  --> src\pqc.rs:10:5
   |
10 | use pqcrypto_traits::sign::{PublicKey as _, SecretKey as _, SignedMessage as _};
   |     ^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `pqcrypto_traits`
   |
   = help: if you wanted to use a crate named `pqcrypto_traits`, use `cargo add pqcrypto_traits` to add it to your `Cargo.toml`

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `pqcrypto_traits`
  --> src\pqc.rs:11:5
   |
11 | use pqcrypto_traits::kem::{Ciphertext as _, SharedSecret as _};
   |     ^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `pqcrypto_traits`
   |
   = help: if you wanted to use a crate named `pqcrypto_traits`, use `cargo add pqcrypto_traits` to add it to your `Cargo.toml`

warning: unused import: `std::path::Path`
  --> src\config.rs:55:5
   |
55 | use std::path::Path;
   |     ^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `Instant`
 --> src\status.rs:4:36
  |
4 | use tokio::time::{sleep, Duration, Instant};
  |                                    ^^^^^^^

warning: unused import: `bail`
  --> src\main.rs:28:22
   |
28 | use anyhow::{Result, bail};
   |                      ^^^^

error[E0599]: no method named `as_bytes` found for struct `pqcrypto_dilithium::dilithium2::PublicKey` in the current scope
  --> src\pqc.rs:16:60
   |
16 |     tokio::fs::write(out_dir.join("pqc_dilithium2.pk"), pk.as_bytes()).await?;
   |                                                            ^^^^^^^^ method not found in `pqcrypto_dilithium::dilithium2::PublicKey`
   |
  ::: C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\sign.rs:6:8
   |
 6 |     fn as_bytes(&self) -> &[u8];
   |        -------- the method is available for `pqcrypto_dilithium::dilithium2::PublicKey` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `PublicKey` which provides `as_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::sign::PublicKey;
   |

error[E0599]: no method named `as_bytes` found for struct `pqcrypto_dilithium::dilithium2::SecretKey` in the current scope
  --> src\pqc.rs:17:60
   |
17 |     tokio::fs::write(out_dir.join("pqc_dilithium2.sk"), sk.as_bytes()).await?;
   |                                                            ^^^^^^^^ method not found in `pqcrypto_dilithium::dilithium2::SecretKey`
   |
  ::: C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\sign.rs:14:8
   |
14 |     fn as_bytes(&self) -> &[u8];
   |        -------- the method is available for `pqcrypto_dilithium::dilithium2::SecretKey` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `SecretKey` which provides `as_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::sign::SecretKey;
   |

error[E0599]: no function or associated item named `from_bytes` found for struct `pqcrypto_dilithium::dilithium2::SecretKey` in the current scope
  --> src\pqc.rs:23:25
   |
23 |     let sk = SecretKey::from_bytes(&sk_bytes)
   |                         ^^^^^^^^^^ function or associated item not found in `pqcrypto_dilithium::dilithium2::SecretKey`
   |
   = help: items from traits can only be used if the trait is in scope
help: there is a method `as_bytes` with a similar name, but with different arguments
  --> C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\sign.rs:14:5
   |
14 |     fn as_bytes(&self) -> &[u8];
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: trait `SecretKey` which provides `from_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::sign::SecretKey;
   |

error[E0599]: no method named `as_bytes` found for struct `pqcrypto_dilithium::dilithium2::SignedMessage` in the current scope
  --> src\pqc.rs:27:27
   |
27 |     fs::write(sig_out, sm.as_bytes()).await?;
   |                           ^^^^^^^^ method not found in `pqcrypto_dilithium::dilithium2::SignedMessage`
   |
  ::: C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\sign.rs:30:8
   |
30 |     fn as_bytes(&self) -> &[u8];
   |        -------- the method is available for `pqcrypto_dilithium::dilithium2::SignedMessage` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `SignedMessage` which provides `as_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::sign::SignedMessage;
   |

error[E0599]: no function or associated item named `from_bytes` found for struct `pqcrypto_dilithium::dilithium2::PublicKey` in the current scope
  --> src\pqc.rs:33:25
   |
33 |     let pk = PublicKey::from_bytes(&pk_bytes)
   |                         ^^^^^^^^^^ function or associated item not found in `pqcrypto_dilithium::dilithium2::PublicKey`
   |
   = help: items from traits can only be used if the trait is in scope
help: there is a method `as_bytes` with a similar name, but with different arguments
  --> C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\sign.rs:6:5
   |
 6 |     fn as_bytes(&self) -> &[u8];
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: trait `PublicKey` which provides `from_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::sign::PublicKey;
   |

error[E0599]: no function or associated item named `from_bytes` found for struct `pqcrypto_dilithium::dilithium2::SignedMessage` in the current scope
  --> src\pqc.rs:41:29
   |
41 |     let sm = SignedMessage::from_bytes(&sig)
   |                             ^^^^^^^^^^ function or associated item not found in `pqcrypto_dilithium::dilithium2::SignedMessage`
   |
   = help: items from traits can only be used if the trait is in scope
help: there is a method `as_bytes` with a similar name, but with different arguments
  --> C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\sign.rs:30:5
   |
30 |     fn as_bytes(&self) -> &[u8];
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: trait `SignedMessage` which provides `from_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::sign::SignedMessage;
   |

error[E0308]: mismatched types
   --> src\pqc.rs:51:41
    |
 51 |     let ss_dec = kyber1024::decapsulate(&ct, &sk);
    |                  ---------------------- ^^^ expected `&Ciphertext`, found `&SharedSecret`
    |                  |
    |                  arguments to this function are incorrect
    |
    = note: expected reference `&pqcrypto_kyber::kyber1024::Ciphertext`
               found reference `&pqcrypto_kyber::kyber1024::SharedSecret`
note: function defined here
   --> C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-kyber-0.8.1\src\kyber1024.rs:192:8
    |
192 | pub fn decapsulate(ct: &Ciphertext, sk: &SecretKey) -> SharedSecret {
    |        ^^^^^^^^^^^

error[E0599]: no method named `as_bytes` found for struct `pqcrypto_kyber::kyber1024::SharedSecret` in the current scope
  --> src\pqc.rs:53:55
   |
53 |     tokio::fs::write(out_dir.join("kyber_ct.bin"), ct.as_bytes()).await?;
   |                                                       ^^^^^^^^ method not found in `pqcrypto_kyber::kyber1024::SharedSecret`
   |
  ::: C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\kem.rs:30:8
   |
30 |     fn as_bytes(&self) -> &[u8];
   |        -------- the method is available for `pqcrypto_kyber::kyber1024::SharedSecret` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `SharedSecret` which provides `as_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::kem::SharedSecret;
   |

error[E0599]: no method named `as_bytes` found for struct `pqcrypto_kyber::kyber1024::Ciphertext` in the current scope
  --> src\pqc.rs:54:92
   |
54 |     tokio::fs::write(out_dir.join("kyber_ss.enc"), general_purpose::STANDARD.encode(ss_enc.as_bytes())).await?;
   |                                                                                            ^^^^^^^^ method not found in 
`pqcrypto_kyber::kyber1024::Ciphertext`
   |
  ::: C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\kem.rs:22:8
   |
22 |     fn as_bytes(&self) -> &[u8];
   |        -------- the method is available for `pqcrypto_kyber::kyber1024::Ciphertext` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `Ciphertext` which provides `as_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::kem::Ciphertext;
   |

error[E0599]: no method named `as_bytes` found for struct `pqcrypto_kyber::kyber1024::SharedSecret` in the current scope
  --> src\pqc.rs:55:92
   |
55 |     tokio::fs::write(out_dir.join("kyber_ss.dec"), general_purpose::STANDARD.encode(ss_dec.as_bytes())).await?;
   |                                                                                            ^^^^^^^^ method not found in 
`pqcrypto_kyber::kyber1024::SharedSecret`
   |
  ::: C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\pqcrypto-traits-0.3.5\src\kem.rs:30:8
   |
30 |     fn as_bytes(&self) -> &[u8];
   |        -------- the method is available for `pqcrypto_kyber::kyber1024::SharedSecret` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `SharedSecret` which provides `as_bytes` is implemented but not in scope; perhaps you want to import it
   |
 1 + use pqcrypto_traits::kem::SharedSecret;
   |

error[E0382]: borrow of moved value: `rest`
   --> src\tor_control.rs:159:17
    |
154 |         let rest = it.collect::<Vec<_>>().join(" ");
    |             ----   -------------------------------- this reinitialization might get skipped
    |             |
    |             move occurs because `rest` has type `std::string::String`, which does not implement the `Copy` trait
155 |         if key.eq_ignore_ascii_case("DataDirectory") {
156 |             if !rest.is_empty() { data_dir = Some(PathBuf::from(rest)); }
    |                                                                 ---- value moved here
...
159 |             if !rest.is_empty() { cookie_file = Some(PathBuf::from(rest)); }
    |                 ^^^^ value borrowed here after move
    |
help: consider cloning the value if the performance cost is acceptable
    |
156 |             if !rest.is_empty() { data_dir = Some(PathBuf::from(rest.clone())); }
    |                                                                     ++++++++

warning: variable does not need to be mutable
   --> src\status_server.rs:252:9
    |
252 |     let mut new_burst = if now > last + 1000 { 0 } else { burst + 1 };
    |         ----^^^^^^^^^
    |         |
    |         help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
   --> src\status_server.rs:263:9
    |
263 |     let mut new_ent = serde_json::json!({
    |         ----^^^^^^^
    |         |
    |         help: remove this `mut`

error[E0308]: mismatched types
  --> src\service.rs:15:45
   |
15 |     service_dispatcher::start(SERVICE_NAME, ffi_service_main)?;
   |     -------------------------               ^^^^^^^^^^^^^^^^ expected "system" fn, found "Rust" fn
   |     |
   |     arguments to this function are incorrect
   |
   = note: expected fn pointer `extern "system" fn(u32, *mut *mut u16)`
                 found fn item `fn(Vec<OsString>) {ffi_service_main}`
note: function defined here
  --> C:\Users\phine\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\windows-service-0.6.0\src\service_dispatcher.rs:90:8
   |
90 | pub fn start(
   |        ^^^^^

warning: unused variable: `tor`
  --> src\service.rs:68:17
   |
68 |             let tor = match tor_manager::TorInstance::start(&cfg, &state_dir).await {
   |                 ^^^ help: if this is intentional, prefix it with an underscore: `_tor`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `t2s`
  --> src\service.rs:74:17
   |
74 |             let t2s = match tun2socks_manager::Tun2Socks::start(&cfg).await {
   |                 ^^^ help: if this is intentional, prefix it with an underscore: `_t2s`

Some errors have detailed explanations: E0308, E0382, E0433, E0599.
For more information about an error, try `rustc --explain E0308`.
warning: `torvpn_win` (bin "torvpn_win") generated 7 warnings
error: could not compile `torvpn_win` (bin "torvpn_win") due to 14 previous errors; 7 warnings emitted
